<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>CatalogBuilder · Backstage Software Catalog and Developer Platform</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="API reference for CatalogBuilder"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="CatalogBuilder · Backstage Software Catalog and Developer Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://backstage.io/"/><meta property="og:description" content="API reference for CatalogBuilder"/><meta property="og:image" content="https://backstage.io/img/sharing-opengraph.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://backstage.io/img/twitter-summary.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"/><link rel="alternate" type="application/atom+xml" href="https://backstage.io/blog/atom.xml" title="Backstage Software Catalog and Developer Platform Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://backstage.io/blog/feed.xml" title="Backstage Software Catalog and Developer Platform Blog RSS Feed"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KSEVGGNCJW"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'G-KSEVGGNCJW');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:500,700&amp;display=swap"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://unpkg.com/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script type="text/javascript" src="/js/medium-zoom.js"></script><script type="text/javascript" src="/js/dismissable-banner.js"></script><script type="text/javascript" src="/js/scroll-nav-to-view-in-docs.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Backstage Software Catalog and Developer Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://github.com/backstage/backstage" target="_self">GitHub</a></li><li class=""><a href="/docs/overview/what-is-backstage" target="_self">Docs</a></li><li class=""><a href="/plugins" target="_self">Plugins</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="/docs/releases/v1.4.0" target="_self">Releases</a></li><li class=""><a href="/demos" target="_self">Demos</a></li><li class=""><a href="/community" target="_self">Community</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/backstage/backstage/edit/master/docs/reference/plugin-catalog-backend.catalogbuilder.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">CatalogBuilder</h1></header><article><div><span><p><a href="/docs/reference/">Home</a> &gt; <a href="/docs/reference/plugin-catalog-backend">@backstage/plugin-catalog-backend</a> &gt; <a href="/docs/reference/plugin-catalog-backend.catalogbuilder">CatalogBuilder</a></p>
<p>A builder that helps wire up all of the component parts of the catalog.</p>
<p>The touch points where you can replace or extend behavior are as follows:</p>
<ul>
<li>Entity policies can be added or replaced. These are automatically run after the processors' pre-processing steps. All policies are given the chance to inspect the entity, and all of them have to pass in order for the entity to be considered valid from an overall point of view. - Placeholder resolvers can be replaced or added. These run on the raw structured data between the parsing and pre-processing steps, to replace dollar-prefixed entries with their actual values (like $file). - Field format validators can be replaced. These check the format of individual core fields such as metadata.name, to ensure that they adhere to certain rules. - Processors can be added or replaced. These implement the functionality of reading, parsing, validating, and processing the entity data before it is persisted in the catalog.</li>
</ul>
<p><b>Signature:</b></p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">class</span> CatalogBuilder 
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="methods"></a><a href="#methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Methods</h2>
<table>
<thead>
<tr><th>Method</th><th>Modifiers</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.addentitypolicy">addEntityPolicy(policies)</a></td><td></td><td>Adds policies that are used to validate entities between the pre- processing and post-processing stages. All such policies must pass for the entity to be considered valid.<!-- -->If what you want to do is to replace the rules for what format is allowed in various core entity fields (such as metadata.name), you may want to use  instead.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.addentityprovider">addEntityProvider(providers)</a></td><td></td><td>Adds or replaces entity providers. These are responsible for bootstrapping the list of entities out of original data sources. For example, there is one entity source for the config locations, and one for the database stored locations. If you ingest entities out of a third party system, you may want to implement that in terms of an entity provider as well.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.addprocessor">addProcessor(processors)</a></td><td></td><td>Adds entity processors. These are responsible for reading, parsing, and processing entities before they are persisted in the catalog.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.build">build()</a></td><td></td><td>Wires up and returns all of the component parts of the catalog</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.create">create(env)</a></td><td><code>static</code></td><td>Creates a catalog builder.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.getdefaultprocessors">getDefaultProcessors()</a></td><td></td><td>Returns the default list of entity processors. These are responsible for reading, parsing, and processing entities before they are persisted in the catalog. Changing the order of processing can give more control to custom processors.<!-- -->Consider using with</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.replaceentitypolicies">replaceEntityPolicies(policies)</a></td><td></td><td>Sets what policies to use for validation of entities between the pre- processing and post-processing stages. All such policies must pass for the entity to be considered valid.<!-- -->If what you want to do is to replace the rules for what format is allowed in various core entity fields (such as metadata.name), you may want to use  instead.<!-- -->This function replaces the default set of policies; use with care.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.replaceprocessors">replaceProcessors(processors)</a></td><td></td><td>Sets what entity processors to use. These are responsible for reading, parsing, and processing entities before they are persisted in the catalog.<!-- -->This function replaces the default set of processors, consider using with ; use with care.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setentitydataparser">setEntityDataParser(parser)</a></td><td></td><td>Sets up the catalog to use a custom parser for entity data.<!-- -->This is the function that gets called immediately after some raw entity specification data has been read from a remote source, and needs to be parsed and emitted as structured data.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setfieldformatvalidators">setFieldFormatValidators(validators)</a></td><td></td><td>Sets the validator function to use for one or more special fields of an entity. This is useful if the default rules for formatting of fields are not sufficient.<!-- -->This function has no effect if used together with .</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setlocationanalyzer">setLocationAnalyzer(locationAnalyzer)</a></td><td></td><td>Overwrites the default location analyzer.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setplaceholderresolver">setPlaceholderResolver(key, resolver)</a></td><td></td><td>Adds, or overwrites, a handler for placeholders (e.g. $file) in entity definition files.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setprocessinginterval">setProcessingInterval(processingInterval)</a></td><td></td><td>Overwrites the default processing interval function used to spread entity updates in the catalog.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.setprocessingintervalseconds">setProcessingIntervalSeconds(seconds)</a></td><td></td><td>Processing interval determines how often entities should be processed. Seconds provided will be multiplied by 1.5 The default processing interval is 100-150 seconds. setting this too low will potentially deplete request quotas to upstream services.</td></tr>
<tr><td><a href="/docs/reference/plugin-catalog-backend.catalogbuilder.subscribe">subscribe(options)</a></td><td></td><td></td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#methods">Methods</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="footer-title"><a href="/"><h2 class="footerLogo"></h2></a></div><div><h5>Docs</h5><a href="/docs/overview/what-is-backstage">What is Backstage?</a><a href="/docs/getting-started/">Getting started</a><a href="/docs/features/software-catalog/software-catalog-overview">Software Catalog</a><a href="/docs/plugins/create-a-plugin">Create a Plugin</a><a href="/docs/dls/design">Designing for Backstage</a></div><div><h5>Community</h5><a href="https://discord.gg/MUpMjP2">Support chatroom</a><a href="https://github.com/backstage/backstage/blob/master/CONTRIBUTING.md">Contributing</a><a href="https://backstage.spotify.com">Adopting</a><a href="https://github.com/backstage/community">Community Sessions</a><a href="https://mailchi.mp/spotify/backstage-community">Subscribe to our newsletter</a><a href="https://www.cncf.io/projects/">CNCF Incubation</a></div><div><h5>More</h5><a href="https://spotify.github.io/">Open Source @ Spotify</a><a href="https://engineering.atspotify.com/">Spotify Engineering Blog</a><a href="https://developer.spotify.com/">Spotify for Developers</a><a href="https://github.com/backstage/backstage">GitHub</a><a class="github-button" href="https://github.com/backstage/backstage" data-icon="octicon-star" data-count-href="/backstage/backstage/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/SpotifyEng" class="twitter-follow-button">Follow @SpotifyEng</a></div></div></section><p style="text-align:center"><a href="https://spotify.github.io">Made with ❤️ at Spotify</a></p><p class="copyright">Copyright © 2022 Backstage Project Authors. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: https://www.linuxfoundation.org/trademark-usage</p></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8d115c9875ba0f4feaee95bab55a1645',
                indexName: 'backstage',
                inputSelector: '#search_input_react'
              });
            </script></body></html>