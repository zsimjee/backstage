"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[321],{"../plugins/home/src/homePageComponents/StarredEntities/Content.tsx":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>Content});var _backstage_plugin_catalog_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../plugins/catalog-react/src/index.ts"),_backstage_catalog_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../packages/catalog-model/src/index.ts"),_backstage_core_plugin_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../packages/core-plugin-api/src/index.ts"),_backstage_core_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../packages/core-components/src/index.ts"),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@material-ui/core/esm/List/List.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/@material-ui/core/esm/Tooltip/Tooltip.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),_material_ui_icons_Star__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../node_modules/@material-ui/icons/Star.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/react-use/lib/useAsync.js");module=__webpack_require__.hmd(module);const _jsxFileName="/home/runner/work/backstage/backstage/plugins/home/src/homePageComponents/StarredEntities/Content.tsx";var enterModule;function _nullishCoalesce(lhs,rhsFn){return null!=lhs?lhs:rhsFn()}(enterModule=__webpack_require__("../node_modules/react-hot-loader/index.js").enterModule)&&enterModule(module);const Content=()=>{const catalogApi=(0,_backstage_core_plugin_api__WEBPACK_IMPORTED_MODULE_2__.useApi)(_backstage_plugin_catalog_react__WEBPACK_IMPORTED_MODULE_0__.catalogApiRef),catalogEntityRoute=(0,_backstage_core_plugin_api__WEBPACK_IMPORTED_MODULE_2__.useRouteRef)(_backstage_plugin_catalog_react__WEBPACK_IMPORTED_MODULE_0__.entityRouteRef),{starredEntities,toggleStarredEntity}=(0,_backstage_plugin_catalog_react__WEBPACK_IMPORTED_MODULE_0__.useStarredEntities)(),entities=(0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__.Z)((async()=>{if(!starredEntities.size)return[];const filter=[...starredEntities].map((ent=>(0,_backstage_catalog_model__WEBPACK_IMPORTED_MODULE_1__.of)(ent))).map((ref=>({kind:ref.kind,"metadata.namespace":ref.namespace,"metadata.name":ref.name})));return(await catalogApi.getEntities({filter,fields:["kind","metadata.namespace","metadata.name","metadata.title"]})).items}),[catalogApi,starredEntities]);return 0===starredEntities.size?react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{variant:"body1",__self:void 0,__source:{fileName:_jsxFileName,lineNumber:78}},"You do not have any starred entities yet!"):entities.loading?react__WEBPACK_IMPORTED_MODULE_4__.createElement(_backstage_core_components__WEBPACK_IMPORTED_MODULE_3__.Progress,{__self:void 0,__source:{fileName:_jsxFileName,lineNumber:84}}):entities.error?react__WEBPACK_IMPORTED_MODULE_4__.createElement(_backstage_core_components__WEBPACK_IMPORTED_MODULE_3__.ResponseErrorPanel,{error:entities.error,__self:void 0,__source:{fileName:_jsxFileName,lineNumber:88}}):react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{__self:void 0,__source:{fileName:_jsxFileName,lineNumber:90}},function _optionalChain(ops){let lastAccessLHS,value=ops[0],i=1;for(;i<ops.length;){const op=ops[i],fn=ops[i+1];if(i+=2,("optionalAccess"===op||"optionalCall"===op)&&null==value)return;"access"===op||"optionalAccess"===op?(lastAccessLHS=value,value=fn(value)):"call"!==op&&"optionalCall"!==op||(value=fn(((...args)=>value.call(lastAccessLHS,...args))),lastAccessLHS=void 0)}return value}([entities,"access",_=>_.value,"optionalAccess",_2=>_2.sort,"call",_3=>_3(((a,b)=>_nullishCoalesce(a.metadata.title,(()=>a.metadata.name)).localeCompare(_nullishCoalesce(b.metadata.title,(()=>b.metadata.name))))),"access",_4=>_4.map,"call",_5=>_5((entity=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{key:(0,_backstage_catalog_model__WEBPACK_IMPORTED_MODULE_1__.eE)(entity),__self:void 0,__source:{fileName:_jsxFileName,lineNumber:98}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_backstage_core_components__WEBPACK_IMPORTED_MODULE_3__.Link,{to:catalogEntityRoute((0,_backstage_plugin_catalog_react__WEBPACK_IMPORTED_MODULE_0__.entityRouteParams)(entity)),__self:void 0,__source:{fileName:_jsxFileName,lineNumber:99}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{primary:_nullishCoalesce(entity.metadata.title,(()=>entity.metadata.name)),__self:void 0,__source:{fileName:_jsxFileName,lineNumber:100}})),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{__self:void 0,__source:{fileName:_jsxFileName,lineNumber:104}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.ZP,{title:"Remove from starred",__self:void 0,__source:{fileName:_jsxFileName,lineNumber:105}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.Z,{edge:"end","aria-label":"unstar",onClick:()=>toggleStarredEntity(entity),__self:void 0,__source:{fileName:_jsxFileName,lineNumber:106}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_material_ui_icons_Star__WEBPACK_IMPORTED_MODULE_13__.Z,{style:{color:"#f3ba37"},__self:void 0,__source:{fileName:_jsxFileName,lineNumber:111}})))))))]))};var reactHotLoader,leaveModule;reactHotLoader=__webpack_require__("../node_modules/react-hot-loader/index.js").default,leaveModule=__webpack_require__("../node_modules/react-hot-loader/index.js").leaveModule,reactHotLoader&&(reactHotLoader.register(Content,"Content","/home/runner/work/backstage/backstage/plugins/home/src/homePageComponents/StarredEntities/Content.tsx"),leaveModule(module));try{Content.displayName="Content",Content.__docgenInfo={description:"A component to display a list of starred entities for the user.",displayName:"Content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../plugins/home/src/homePageComponents/StarredEntities/Content.tsx#Content"]={docgenInfo:Content.__docgenInfo,name:"Content",path:"../plugins/home/src/homePageComponents/StarredEntities/Content.tsx#Content"})}catch(__react_docgen_typescript_loader_error){}},"../plugins/home/src/homePageComponents/StarredEntities/index.ts":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Content:()=>_Content__WEBPACK_IMPORTED_MODULE_0__.V});var enterModule,reactHotLoader,leaveModule,_Content__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../plugins/home/src/homePageComponents/StarredEntities/Content.tsx");module=__webpack_require__.hmd(module),(enterModule=__webpack_require__("../node_modules/react-hot-loader/index.js").enterModule)&&enterModule(module),reactHotLoader=__webpack_require__("../node_modules/react-hot-loader/index.js").default,leaveModule=__webpack_require__("../node_modules/react-hot-loader/index.js").leaveModule,reactHotLoader&&leaveModule(module)}}]);